# anmutunes

anmutunes is an open source app for Linux, macOS, and Windows.
It is meant as a replacement for the offline functionalities of iTunes\* and Apple Music\* and can import the library.xml file from either.
Furthermore, through the use of libvlc, anmutunes is able to play any audio format supported by VLC.
This includes FLAC and other audio formats not supported by iTunes and Apple Music.

The English and German translations were written by me.
All other translations were generated with devstral:latest through ollama.
At the time of v1.0.0 release, less than 5% of the code was generated by devstral:latest.
Everything else was programmed by hand by me, with more than 800 hours of work.

For further development, I would be happy to receive pull requests.
Alternatively you can support me with a donation through the following link: [PayPal](https://www.paypal.com/donate/?hosted_button_id=4LVGM2LL7WFCQ)

\*iTunes and Apple Music are registered trademarks of Apple Inc.

## Installation

Download the latest version for your platform under the following link: [Releases](https://github.com/anmutech/anmutunes/releases)

Then install the way you would install any other app.

## Known Issues

- "Theme: System" in the settings might not work on Linux, depending on your distro
- Depending on audio sink and system there might be delays or crackling and stuttering when starting playback/changing tracks. This is a known issue with VLC, and should be fixed in VLC version 4.0
- Playback position of the current track is not stored if anmutunes is closed while playing
- clicking on the playback position to seek in a track is sometimes overwritten by a backend message
- On macOS, tauri dev does not locate libvlc correctly

## Development

All platforms require you to install [rustup](https://rustup.rs) with the respective default platform target and [node.js](https://nodejs.org).
If you have not installed them yet, follow the instructions on the above web pages.

### Debian / Ubuntu

Make sure you have installed rustup and node.js.

Install additional dependencies:
`sudo apt install build-essential libgtk-3-dev libjavascriptcoregtk-4.1-dev libsoup-3.0-dev libwebkit2gtk-4.1-dev libvlc-dev`

Clone or download and unzip the anmutunes repo.

Open a terminal and navigate to the anmutunes repo directory.
Run the following command:
`npm install`

Now you can start the development server with:
`npm run tauri dev`

To build anmutunes, use the following command:
`npm run tauri build`

### macOS

Make sure you have installed rustup, node.js, and the xcode development tools.

Download the [VLC-3.0.22](https://download.videolan.org/vlc/3.0.22/macosx) dmg for your platform.
Versions of macOS earlier than macOS 15 have not been tested. Versions later than macOS 15 have not yet been tested, but are expected to work.

Clone or download and unzip the anmutunes repo.
From the root of the repo create the missing folders such that you have anmutunes/src-tauri/vlc/macos/.
Open the vlc dmg and enter the VLC.app with a right click > Show Package Contents. Navigate to the folder VLC.app/Contents/MacOS/ and copy the lib/ and plugins/ directories, then paste them in the previously created "macos" folder.
Additionally copy the VLC_COPYING.txt from src-tauri/VLC_COPYING.txt to the same "macos" folder.

Open a terminal and navigate to the anmutunes repo directory.
Run the following command:
`npm install`

Now you can start the development server with:
`npm run tauri dev`

To build anmutunes, use the following command:
`npm run tauri build`

### Windows

Make sure you have installed node.js and rustup, which should install Visual Studio as well. Additionally you need to install the Windows SDK from within Visual Studio.

Download the [VLC-3.0.22](https://download.videolan.org/vlc/3.0.22/) ZIP archive for your platform.
So far only win64 is tested, arm64 and win32 might not work or require patches in the code.

Clone or download and unzip the anmutunes repo.
From the root of the repo create the missing folders such that you have anmutunes/src-tauri/vlc/windows/.
Copy libvlc.dll, libvlccore.dll, COPYING.txt, and the plugins directory into the just created "windows" folder.
Rename libvlc.dll to vlc.dll.

Open the anmutunes repo directory in Visual Studio and open a command prompt under Tools > Command Line > Developer Command Prompt.
Run the following command:
`npm install`

Now you can start the development server with:
`npm run tauri dev`

To build anmutunes, use the following command:
`npm run tauri build`

### Debugging

Logs can be found in the following directories (replace the username with yours):

- macOS: /Users/Alice/Library/Logs/com.anmutech.anmutunes
- Linux: /home/alice/.local/share/com.anmutech.anmutunes/logs
- Windows: C:\Users\Alice\AppData\Local\com.anmutech.anmutunes\logs

The SQLite database "db.sqlite" can be found in the following directories (replace the username with yours):

- macOS: /Users/Alice/Library/Application Support/com.anmutech.anmutunes
- Linux: /home/alice/.local/share/com.anmutech.anmutunes
- Windows: C:\Users\Alice\AppData\Local\com.anmutech.anmutunes

The config.json can be found in the following directories (replace the username with yours):

- macOS: /Users/Alice/Library/Application Support/com.anmutech.anmutunes
- Linux: /home/alice/.config/com.anmutech.anmutunes
- Windows: C:\Users\Alice\AppData\Roaming\com.anmutech.anmutunes

## License and Contributing

This project is licensed as GPLv3.
By submitting pull requests to anmutunes, you agree that your code is licensed as GPLv3, and that you are authorized to license it.

The files "vlc.def", "vlc.exp", and "vlc.lib" in the src-tauri subdirectory were generated from libvlc.dll and are licensed as GPLv2 according to the VLC_COPYING.txt file in the same directory.

The macOS and Windows releases include libvlc, libvlccore and all default vlc plugins. The VLC_COPYING.txt licence applies here as well and is included.

The file in static/anmutunes.mp4 is licensed as CC BY-NC-SA 4.0. To view a copy of this licence, visit:
[Creative Commons](https://creativecommons.org/licenses/by-nc-sa/4.0/)
All music used in the video is either CC BY-NC 4.0 or CC BY-NC-SA 4.0. See [ATTRIBUTIONS](static/ATTRIBUTIONS.txts) for more info.

The fonts in static/NotoSans are licensed as SIL OPEN FONT LICENSE Version 1.1. See static/fonts/NotoSans/OFL.txt for the licence text.
The fonts in static/fonts/UbuntuSans are licensed as UBUNTU FONT LICENCE Version 1.0. See static/fonts/UbuntuSans/LICENCE.txt for the licence text.
